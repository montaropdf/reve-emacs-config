# -*- eval: (git-auto-commit-mode 1) -*-
#+TITLE: Email manager configuration

* Email
  :PROPERTIES:
  :ID:       15fcdc49-3758-4422-abcc-7e9e912531c2
  :END:
  #+BEGIN_SRC emacs-lisp
    ;; (add-to-list 'load-path "/usr/local/share/emacs/site-lisp/mu4e/")

     (use-package mu4e
       ;; :ensure t
       :load-path "/usr/local/share/emacs/site-lisp/mu4e/"
       ;; :bind ((:map mu4e-headers-mode-map ((kbd "C-c c") . org-mu4e-store-and-capture))
       ;; 	  (:map mu4e-view-mode-map    ((kbd "C-c c") . org-mu4e-store-and-capture)))
       :config (setq
		 mu4e-index-cleanup nil      ;; don't do a full cleanup check
		 mu4e-index-lazy-check t     ;; don't consider up-to-date dirs
		 org-mu4e-link-query-in-headers-mode t
		 mu4e-change-filenames-when-moving t)

       )

    ;; (define-key mu4e-headers-mode-map (kbd "C-c c") 'org-mu4e-store-and-capture)
    ;; (define-key mu4e-view-mode-map    (kbd "C-c c") 'org-mu4e-store-and-capture)


     (use-package org-mu4e
       ;; :ensure t
       :load-path "/usr/local/share/emacs/site-lisp/mu4e/"
       :after (org mu4e)
       :defer t
     )

    (use-package smtpmail
      :ensure t
      :defer t)

    (use-package mu4e-alert
      :ensure t
      :after 'mu4e
      :config ((mu4e-alert-set-default-style 'libnotify)
	       (add-hook 'after-init-hook #'mu4e-alert-enable-notifications)
	       (add-hook 'after-init-hook #'mu4e-alert-enable-mode-line-display)))

    (with-eval-after-load 'mu4e
     (load-if-exists "~/.personal/email-multiacc-config.el")
    )
  #+END_SRC
